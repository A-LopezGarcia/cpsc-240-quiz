/*Arianne Arcebal, Antonio Lopez Garcia
* Project 7 Part 2
* 12 October 2017
* Ray Ahmadnia
* Purpose: To display a menu and add up the total of
* a customer's order
*/

#include <iostream>
#include <iomanip>
using namespace std;

char drinkType;
int sandwichType;
float soda = 2.25, water = 1.75, tenInch = 3.45, twelveInch = 5.25;
float drinkNum, sandwichNum, total;

void displayMenu(){
	cout << "- - - - - - - - - 7-11 Convenient Store - - - - - - - - - " << endl;
	cout << "drinks" << endl;
	cout << "\tSoda(S)  . . . . . . . . . . . . . . .  $2.25" << endl;
	cout << "\tWater(W) . . . . . . . . . . . . . . .  $2.25" << endl;
	cout << "Sandwiches" << endl;
	cout << "\t10 inches . . . . . . . . . . . . . . . $3.45" << endl;
	cout << "\t12 inches . . . . . . . . . . . . . . . $3.45" << endl;
}

float getDrinkNum(){
	cout << "How many drinks? ";
	cin >> drinkNum;
	return drinkNum;
}

char getDrinkType(){
	cout << "What kind of drink (S = soda, W = water) ";
	cin >> drinkType;
	return drinkType;
}

float getSandwichNum(){
	cout << "How many sandwiches? ";
	cin >> sandwichNum;
	return sandwichNum;
}

int getSandwichtype(){
	cout << "What size of sandwich (10/12 inches?) ";
	cin >> sandwichType;
	return sandwichType;
}

void showTotal(){
	cout << "Your total bill = $" << fixed << showpoint << setprecision(2) << total;
}

void endLine(){
	cout << endl;
}

int main(){
	_asm
	{
		call displayMenu;
		call getDrinkNum;
		call getDrinkType;
		cmp drinkType, 'S';
		jne Water;

	Soda:
		fld soda;
		fld drinkNum;
		fmul;	//st = soda * drinkNum
		fstp total;	//total = soda * drinkNum
		jmp Sandwich;

	Water:
		fld water;
		fld drinkNum;
		fmul;
		fstp total; //total = water * drinkNum
		jmp Sandwich;

	Sandwich:
		call getSandwichNum;
		call getSandwichtype;
		cmp sandwichType, 10;
		jne TwelveInch;

	TenInch:
		fld tenInch;
		fld sandwichNum;
		fmul;
		fld total; //st = total, st(1) = tenInch * sandwichNum
		fadd;
		fstp total;	//total = total + (tenInch * sandwichNum)
		jmp displayTotal;

	TwelveInch:
		fld twelveInch;
		fld sandwichNum;
		fmul; 
		fld total;	// st = total, st(1) = twelveInch * sandwichNum
		fadd;
		fstp total;	//total = total + (twelveInch * sandwichNum)
		jmp displayTotal;

	displayTotal:
		call showTotal;
		call endLine;
	}

	system("pause");
	return 0;
}
